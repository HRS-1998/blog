import{_ as s,c as i,o as a,a2 as t}from"./chunks/framework.Dr1n16L8.js";const l="/blog/static/flutter_sys_path.D-q-JzX0.png",n="/blog/static/flutter_sys_path2.BkPdYK_Z.png",e="/blog/static/flutter_sys_path3.CnUrLpQq.png",p="/blog/static/android_sys_path.BaaWB4T0.png",h="/blog/static/ASSetting_01.CVEje2Za.png",r="/blog/static/ASSetting_02.B1tALCjA.png",k="/blog/static/android_emulator.C27F1yjU.png",d="/blog/static/VSCode_01.CrEaJA8-.png",o="/blog/static/flutter_01.CoFZzB0v.png",c="/blog/static/launch.jiqve_34.png",g="/blog/static/test.BPPrEd_D.jpg",_=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"pages/js/flutter/index.md","filePath":"pages/js/flutter/index.md","lastUpdated":1744894823000}'),F={name:"pages/js/flutter/index.md"},u=t(`<p>示例文件夹目录 D:\\\\：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├─</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flutter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├─ flutterSdk    # 存放 flutter sdk</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├─ androidStudio # 存放 androidStudio 编辑器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├─ androidSdk    # 存放 android sdk</span></span></code></pre></div><p><a href="https://docs.flutter.cn/reference/widgets" target="_blank" rel="noreferrer">官方中文文档</a></p><p>安装 flutter sdk</p><ol><li><p>安装 <a href="https://docs.flutter.cn/release/archive?tab=windows" target="_blank" rel="noreferrer">flutter sdk</a></p></li><li><p>配置系统环境变量</p><ul><li><p>Path 中 添加 flutter/bin 例如： <code>D:\\flutter\\flutterSdk\\bin</code><img src="`+l+'" alt="path 配置参考01"></p></li><li><p>添加系统变量,用于配置镜像</p><table><thead><tr><th style="text-align:center;">变量名</th><th style="text-align:center;">变量值</th></tr></thead><tbody><tr><td style="text-align:center;"><code>PUB_HOSTED_URL</code></td><td style="text-align:center;"><code>https://pub.flutter-io.cn</code></td></tr><tr><td style="text-align:center;"><code>FLUTTER_STORAGE_BASE_URL</code></td><td style="text-align:center;"><code>https://storage.flutter-io.cn</code></td></tr></tbody></table><p><img src="'+n+'" alt="path 配置参考01"><img src="'+e+'" alt="path 配置参考01"></p></li></ul></li><li><p>cmd 中执行 flutter --version 查看是否安装成功</p></li><li><p>cmd 中执行 flutter doctor 查看运行环境以及支持的平台</p></li></ol><p>安装 android 工具链</p><ol><li>安装 <a href="https://developer.android.google.cn/studio?hl=zh-cn" target="_blank" rel="noreferrer">android sdk</a></li><li>配置系统环境变量 <code>ANDROID_HOME</code> 为 sdk 路径 例如：<code>D:\\flutter\\ansroidSdk</code><img src="'+p+'" alt="配置系统环境变量"></li><li>androidStudio 中安装 plugin : <code>flutter</code> + <code>dart</code> 插件</li><li>设置中 Android SDK 安装以下组件 <ul><li>Android SDK Platform, API 35.0.2</li><li>Android SDK Command-line Tools</li><li>Android SDK Build-Tools</li><li>Android SDK Platform-Tools</li><li>Android Emulator <img src="'+h+'" alt="AS Android SDK组件"><img src="'+r+'" alt="AS Android SDK组件"></li></ul></li><li>配置 Android 模拟器(在 vscode 中配置也可以) <img src="'+k+'" alt="配置模拟器"></li></ol><p>vscode 编辑器配置</p><ol><li><p>安装 flutter 插件 (会自动安装 dart 插件)</p></li><li><p>右下角选择对应虚拟机器，运行 flutter run 命令 <img src="'+d+'" alt="vscode 运行 flutter app"></p></li></ol><p>以上完成后，在 cmd 中运行 flutter doctor 查看是否正常 目前有证书 license 问题，需要按提示运行 flutter doctor --android-licenses</p><p>解决证书问题后，就只剩 Windows apps 的问题了 <img src="'+o+`" alt="cmd_flutter"></p><p>创建 flutter 项目</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create demo01</span></span></code></pre></div><p>运行 flutter run 命令</p><p>可能会出现 Running Gradle task &#39;assembleDebug&#39;... 报错问题</p><p>解决方法： 先尝试 3 是否成功,如果不成功按照以下顺序解决</p><ol><li><p>安装 java 11 环境 <a href="https://www.oracle.com/java/technologies/downloads/#java11-windows" target="_blank" rel="noreferrer">java11 下载地址</a></p></li><li><p>配置系统环境变量</p><ul><li>新建 JAVA_HOME 变量，值为 java 安装路径 例如：<code>C:\\Program Files\\Java\\jdk-11.0.13</code></li><li>新建 PATH 变量，值为 <code>%JAVA_HOME%\\bin</code></li><li>运行 cmd 命令，查看 java -version 是否正常</li></ul></li><li><p>更改 gradle 配置文件 \\android\\gradle\\wrapper\\gradle-wrapper.properties</p></li></ol><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># distributionUrl=https\\://services.gradle.org/distributions/gradle-8.10.2-all.zip</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">distributionUrl=https://mirrors.aliyun.com/macports/distfiles/gradle/gradle-8.10.2-all.zip</span></span></code></pre></div><h3 id="flutter-devtools" tabindex="-1">flutter devtools <a class="header-anchor" href="#flutter-devtools" aria-label="Permalink to &quot;flutter devtools&quot;">​</a></h3><p>vscode 中 ctrl + shift + P</p><p>Flutter: Open DevTools Performance Page 显示性能分析页面 Flutter: Open DevTools Widget inspector Page 显示控件树，定位控件的代码位置</p><h3 id="断点调试-日常开发使用" tabindex="-1">断点调试(日常开发使用) <a class="header-anchor" href="#断点调试-日常开发使用" aria-label="Permalink to &quot;断点调试(日常开发使用)&quot;">​</a></h3><p>配置 launch.json,项目根目录添加使用默认生成的配置文件就可以 <img src="`+c+`" alt="launch"></p><h3 id="真机调试" tabindex="-1">真机调试 <a class="header-anchor" href="#真机调试" aria-label="Permalink to &quot;真机调试&quot;">​</a></h3><p>连接手机后，开启开发者选项，直接控制台 flutter run 会自动检测，同意即可,然后选择对应的自己设备</p><p>如果没有网络权限开启网络权限 crtl+P 搜索 AndroidManifest.xml 文件添加</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses-permission</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> android:name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;android.permission.INTERNET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div><p>音频权限</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses-permission</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> android:name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses-permission</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> android:name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div><p>一些真机调试相关命令</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看设备列表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> devices</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 多设备可以指定设备id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run --device-id=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your_device_i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 正常启动，可以选择自己的设备</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果失败可以尝试先清空build文件夹</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新获取依赖包</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pub get</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span></span></code></pre></div><p><img src="`+g+`" alt="真机调试"></p><p>安装包 <a href="https://pub-web.flutter-io.cn/" target="_blank" rel="noreferrer">插件市场</a> 方案一 <code>pubspec.yaml</code>中直接添加然后执行</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pub get</span></span></code></pre></div><p>方案二（正常使用）</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pub add xxxx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">包名</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="flutter-多版本管理-fvm" tabindex="-1">flutter 多版本管理 fvm <a class="header-anchor" href="#flutter-多版本管理-fvm" aria-label="Permalink to &quot;flutter 多版本管理 fvm&quot;">​</a></h3><p>查看 flutter 通道 默认为 stable</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看通道</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># stable 稳定版本</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># beta   beta版本</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># dev    开发版本</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># master master版本 可能不稳定</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 切换通道</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channel stable</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 更新flutter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flutter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装fvm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pub global activate fvm</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看fvm版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fvm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装flutter指定版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.6</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看已安装的flutter版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 切换flutter版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.6</span></span></code></pre></div><p>关于 fvm 安装，成功的解决方案</p><ol><li>cmd</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pub global activate fvm</span></span></code></pre></div><p>安装后提示 安装在 c:\\user\\xxx\\Pub\\Cache\\bin ,但路径不可用 配置环境变量就可以了</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Path</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  ------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ero</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\A</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ppData</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ocal</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ub</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ache</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">in</span></span></code></pre></div><p>fvm 运行某个版本的 flutter ,并在在 web 中打开</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看fvm flutter版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flutter --version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 切换fvm flutter版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flutter use </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.6</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 构建fvm flutter项目</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flutter build web</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flutter run -d chrome</span></span></code></pre></div>`,46),y=[u];function C(b,m,f,v,E,B){return a(),i("div",null,y)}const D=s(F,[["render",C]]);export{_ as __pageData,D as default};
